(this["webpackJsonpsnake-react"]=this["webpackJsonpsnake-react"]||[]).push([[0],{13:function(e,t,n){},14:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(6),a=n.n(r),s=(n(13),n(14),n(8)),o=n(2),i=n(7),u=20,f="UP",l="BOTTOM",j="RIGHT",b="LEFT",d={UP:function(e,t){return{x:e,y:t-1}},BOTTOM:function(e,t){return{x:e,y:t+1}},RIGHT:function(e,t){return{x:e+1,y:t}},LEFT:function(e,t){return{x:e-1,y:t}}},O={38:"UP",39:"RIGHT",37:"LEFT",40:"BOTTOM"},v="ready",h="run",m="pause",x="over",k=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},y=function(){return{x:k(0,19),y:k(0,19)}},g=function e(t){var n=y();return t.forEach((function(c){n.x===c.x&&n.y===c.y&&(n=e(t))})),n},p=function(){var e=new Date,t=""+e.getHours(),n=""+e.getMinutes(),c=""+e.getSeconds();return(2===t.length?t:"0"+t)+":"+(2===n.length?n:"0"+n)+":"+(2===c.length?c:"0"+c)},N=function(){var e=localStorage.getItem("snake-hs");return void 0==e?0:e},w=function(e){return[e%u,Math.floor(e/u)]},E=function(e){return e[0]},S=n(0);var T=function(e){var t=e.snake,n=e.food,c=e.idx,r="square";return!function(e,t){var n,c=w(e),r=Object(o.a)(c,2),a=r[0],s=r[1],u=Object(i.a)(t);try{for(u.s();!(n=u.n()).done;){var f=n.value;if(f.x===a&&f.y===s)return!0}}catch(l){u.e(l)}finally{u.f()}return!1}(c,t)?function(e,t){var n=w(e),c=Object(o.a)(n,2),r=c[0],a=c[1];return t.x===r&&t.y===a}(c,n)&&(r+=" food"):r+=" snake",Object(S.jsx)("div",{className:r})};var M=function(e){var t=e.snake,n=e.food;return Object(S.jsx)("div",{className:"board",children:new Array(400).fill(null).map((function(e,c){return Object(S.jsx)(T,{snake:t,food:n,idx:c},c)}))})};var C=function(e){var t=e.time,n=e.score,c=e.hs,r=e.gs,a=e.level,s=100===a?"Hell":150===a?"Hard":180===a?"Normal":"Easy";return Object(S.jsxs)("div",{className:"info",children:[Object(S.jsxs)("div",{className:"socre",children:["Score: ",n]}),Object(S.jsxs)("div",{className:"level",children:["Level: ",s]}),Object(S.jsxs)("div",{className:"time",children:["Time: ",t]}),Object(S.jsxs)("div",{className:"status",children:["Status: ",r.toUpperCase()," "]}),Object(S.jsxs)("div",{className:"high-socre",children:["High Score: ",c]})]})};var _=function(e){var t=e.handleControl,n=e.handleProcess;return Object(S.jsxs)("div",{className:"control",children:[Object(S.jsxs)("div",{className:"btns",children:[Object(S.jsx)("button",{className:"pause iconfont icon-ic_suspend",name:"pause",onClick:n}),Object(S.jsx)("button",{className:"restart iconfont icon-ic_refresh",name:"restart",onClick:n}),Object(S.jsx)("button",{className:"start iconfont icon-ic_play",name:"start",onClick:n})]}),Object(S.jsxs)("div",{className:"operate",children:[Object(S.jsx)("button",{className:"up iconfont icon-ic_arrow_up",name:f,onClick:t}),Object(S.jsx)("button",{className:"down iconfont icon-ic_arrow_down",name:l,onClick:t}),Object(S.jsx)("button",{className:"left iconfont icon-ic_arrow_left",name:b,onClick:t}),Object(S.jsx)("button",{className:"right iconfont icon-ic_arrow_right",name:j,onClick:t})]})]})};var I=function(){var e=Object(c.useState)(p()),t=Object(o.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)([y()]),i=Object(o.a)(a,2),l=i[0],j=i[1],b=Object(c.useState)(g(l)),k=Object(o.a)(b,2),w=k[0],T=k[1],I=Object(c.useState)(0),H=Object(o.a)(I,2),L=H[0],P=H[1],R=Object(c.useState)(f),B=Object(o.a)(R,2),G=B[0],U=B[1],F=Object(c.useState)(v),J=Object(o.a)(F,2),q=J[0],A=J[1],D=Object(c.useState)(200),z=Object(o.a)(D,2),K=z[0],Q=z[1],V=Object(c.useState)(0),W=Object(o.a)(V,2),X=W[0],Y=W[1],Z=Object(c.useRef)(v);Object(c.useEffect)((function(){Z.current=q}),[q]);var $=function(){j([y()]),T(g(l)),P(0),U(f),Q(200)},ee=function(e){var t=e.keyCode,n=Z.current;32===t?n===m||n===v?A(h):n===h?A(m):n===x&&(A(v),$()):n===h&&O[t]&&U(O[t])};return Object(c.useEffect)((function(){return window.addEventListener("keyup",ee,!1),function(){window.removeEventListener("keyup",ee,!1)}}),[]),Object(c.useEffect)((function(){window.addEventListener("click",(function(e){e.target.blur()}))})),Object(c.useEffect)((function(){if(q===h){var e=setInterval((function(){Y((function(e){return e+1}))}),K);return function(){clearInterval(e)}}}),[q,K]),Object(c.useEffect)((function(){var e=E(l),t=d[G](e.x,e.y),n=Object(s.a)(l);if(n.unshift(t),function(e){var t=E(e);return t.x<0||t.y<0||t.x>=u||t.y>=u}(n))return A(x),void function(e,t){var n=Math.max(t,e);localStorage.setItem("snake-hs",n)}(L,N());var c=function(e){for(var t=E(e),n=e.length-1;n>0;n--)if(t.x===e[n].x&&t.y===e[n].y)return n;return-1}(n);-1!==c?(P((function(e){return Math.max(0,e-2*(n.length-c))})),n=n.slice(0,c)):!function(e,t){var n=E(e);return n.x===t.x&&n.y===t.y}(n,w)?n.pop():(T(g(n)),P((function(e){return e+n.length}))),j(n)}),[X]),Object(c.useEffect)((function(){Q((function(e){return L>3e3?Math.min(e,100):L>1e3?Math.min(e,150):L>500?Math.min(e,180):e}))}),[L]),Object(c.useEffect)((function(){var e=setInterval((function(){var e=p();r(e)}),1e3);return function(){clearInterval(e)}}),[]),Object(S.jsx)("div",{className:"box",children:Object(S.jsxs)("main",{children:[Object(S.jsx)("h1",{children:"Snake Game in React"}),Object(S.jsx)(M,{snake:l,food:w}),Object(S.jsxs)("div",{className:"side",children:[Object(S.jsx)(C,{time:n,score:L,hs:N(),gs:q,level:K}),Object(S.jsx)(_,{handleControl:function(e){var t=e.target;if(q===h){var n=t.name;U(n)}},handleProcess:function(e){switch(e.target.name){case"start":q!==x&&A(h);break;case"pause":q!==x&&q!==v&&A(m);break;case"restart":A(v),$();break;default:A(v)}}})]})]})})};a.a.render(Object(S.jsx)(I,{}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.477a8d69.chunk.js.map