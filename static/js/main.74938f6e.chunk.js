(this["webpackJsonpsnake-react"]=this["webpackJsonpsnake-react"]||[]).push([[0],{13:function(e,t,n){},14:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(6),a=n.n(r),s=(n(13),n(14),n(8)),o=n(2),i=n(7),u=20,f="UP",l="BOTTOM",j="RIGHT",b="LEFT",d={UP:function(e,t){return{x:e,y:t-1}},BOTTOM:function(e,t){return{x:e,y:t+1}},RIGHT:function(e,t){return{x:e+1,y:t}},LEFT:function(e,t){return{x:e-1,y:t}}},O={38:"UP",39:"RIGHT",37:"LEFT",40:"BOTTOM"},v="ready",x="run",h="pause",m="over",k=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},y=function(){return{x:k(0,19),y:k(0,19)}},g=function e(t){var n=y();return t.forEach((function(c){n.x===c.x&&n.y===c.y&&(n=e(t))})),n},p=function(){var e=new Date,t=""+e.getHours(),n=""+e.getMinutes(),c=""+e.getSeconds();return(2===t.length?t:"0"+t)+":"+(2===n.length?n:"0"+n)+":"+(2===c.length?c:"0"+c)},N=function(){var e=localStorage.getItem("snake-hs");return void 0==e?0:e},w=function(e){return[e%u,Math.floor(e/u)]},S=function(e){return e[0]},T=n(0);var E=function(e){var t=e.snake,n=e.food,c=e.idx,r="square";return!function(e,t){var n,c=w(e),r=Object(o.a)(c,2),a=r[0],s=r[1],u=Object(i.a)(t);try{for(u.s();!(n=u.n()).done;){var f=n.value;if(f.x===a&&f.y===s)return!0}}catch(l){u.e(l)}finally{u.f()}return!1}(c,t)?function(e,t){var n=w(e),c=Object(o.a)(n,2),r=c[0],a=c[1];return t.x===r&&t.y===a}(c,n)&&(r+=" food"):r+=" snake",Object(T.jsx)("div",{className:r})};var _=function(e){var t=e.snake,n=e.food;return Object(T.jsx)("div",{className:"board",children:new Array(400).fill(null).map((function(e,c){return Object(T.jsx)(E,{snake:t,food:n,idx:c},c)}))})};var C=function(e){var t=e.time,n=e.score,c=e.hs,r=e.gs;return Object(T.jsxs)("div",{className:"info",children:[Object(T.jsxs)("div",{className:"socre",children:["Score: ",n]}),Object(T.jsxs)("div",{className:"time",children:["Time: ",t]}),Object(T.jsxs)("div",{className:"status",children:["Status: ",r," "]}),Object(T.jsxs)("div",{className:"high-socre",children:["High Score: ",c]})]})};var I=function(e){var t=e.handleControl,n=e.handleProcess;return Object(T.jsxs)("div",{className:"control",children:[Object(T.jsxs)("div",{className:"btns",children:[Object(T.jsx)("button",{className:"pause iconfont icon-ic_suspend",name:"pause",onClick:n}),Object(T.jsx)("button",{className:"restart iconfont icon-ic_refresh",name:"restart",onClick:n}),Object(T.jsx)("button",{className:"start iconfont icon-ic_play",name:"start",onClick:n})]}),Object(T.jsxs)("div",{className:"operate",children:[Object(T.jsx)("button",{className:"up iconfont icon-ic_arrow_up",name:f,onClick:t}),Object(T.jsx)("button",{className:"down iconfont icon-ic_arrow_down",name:l,onClick:t}),Object(T.jsx)("button",{className:"left iconfont icon-ic_arrow_left",name:b,onClick:t}),Object(T.jsx)("button",{className:"right iconfont icon-ic_arrow_right",name:j,onClick:t})]})]})};var M=function(){var e=Object(c.useState)(p()),t=Object(o.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(N()),i=Object(o.a)(a,2),l=i[0],j=i[1],b=Object(c.useState)([y()]),k=Object(o.a)(b,2),w=k[0],E=k[1],M=Object(c.useState)(g(w)),H=Object(o.a)(M,2),L=H[0],P=H[1],B=Object(c.useState)(0),G=Object(o.a)(B,2),R=G[0],F=G[1],U=Object(c.useState)(f),J=Object(o.a)(U,2),q=J[0],A=J[1],D=Object(c.useState)(v),z=Object(o.a)(D,2),K=z[0],Q=z[1],V=Object(c.useState)(0),W=Object(o.a)(V,2),X=W[0],Y=W[1],Z=function(e){var t=e.keyCode;A(O[t])};return Object(c.useEffect)((function(){return window.addEventListener("keyup",Z,!1),function(){window.removeEventListener("keyup",Z,!1)}}),[]),Object(c.useEffect)((function(){if(K===x){var e=setInterval((function(){Y((function(e){return e+1}))}),200);return function(){clearInterval(e)}}}),[K]),Object(c.useEffect)((function(){var e=S(w),t=d[q](e.x,e.y),n=Object(s.a)(w);if(n.unshift(t),function(e){var t=S(e);return t.x<0||t.y<0||t.x>=u||t.y>=u}(n))return Q(m),function(e,t){var n=Math.max(t,e);localStorage.setItem("snake-hs",n)}(R,l),void j(N());var c=function(e){for(var t=S(e),n=e.length-1;n>0;n--)if(t.x===e[n].x&&t.y===e[n].y)return n;return-1}(n);-1!==c?(F((function(e){return Math.max(0,e-2*(n.length-c))})),n=n.slice(0,c)):!function(e,t){var n=S(e);return n.x===t.x&&n.y===t.y}(n,L)?n.pop():(P(g(n)),F((function(e){return e+n.length}))),E(n)}),[X]),Object(c.useEffect)((function(){var e=setInterval((function(){var e=p();r(e)}),1e3);return function(){clearInterval(e)}}),[]),Object(T.jsx)("div",{className:"box",children:Object(T.jsxs)("main",{children:[Object(T.jsx)("h1",{children:"Snake Game in React"}),Object(T.jsx)(_,{snake:w,food:L}),Object(T.jsxs)("div",{className:"side",children:[Object(T.jsx)(C,{time:n,score:R,hs:l,gs:K}),Object(T.jsx)(I,{handleControl:function(e){var t=e.target.name;A(t)},handleProcess:function(e){switch(e.target.name){case"start":K!==m&&Q(x);break;case"pause":K!==m&&Q(h);break;case"restart":Q(v),E([y()]),P(g(w)),F(0),A(f);break;default:Q(v)}}})]})]})})};a.a.render(Object(T.jsx)(M,{}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.74938f6e.chunk.js.map